<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="{{ url_for('static', filename='./node_modules/cropperjs/dist/cropper.min.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

  <title>Document</title>
</head>

<style>
  body {
    height: 100%;
    padding-top: 70px;
  }

  .file-input {
    position: relative;
    display: inline-block;
    cursor: pointer;
  }

  .file-input input[type="file"] {
    position: absolute;
    left: 0;
    top: 0;
    opacity: 0;
    cursor: pointer;
  }

  .image-container {
    margin-top: 30px;
  }

  .image-container img {
    max-width: 100%;
  }

  .alert-container {
    margin-top: 30px;
  }

  .alert {
    padding: 15px;
    margin-bottom: 20px;
    border: 1px solid transparent;
    border-radius: 4px;
  }

  .alert-success {
    color: #155724;
    background-color: #d4edda;
    border-color: #c3e6cb;
  }

  .alert-error {
    color: #721c24;
    background-color: #f8d7da;
    border-color: #f5c6cb;
  }
  .col{
    margin-right: 10px ; 
  }
</style>

<body>

  <div class=" container-sm">
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-info">
      <a class="navbar-brand" href="#">Matricule detection</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
        aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">All matricule </a>
          </li>
        </ul>
      </div>
    </nav>

    <input type="file" id="image-input" class="file-input btn btn-primary" >

    <div class="row">
      <div class="mb-3">
        <div class="btn btn-primary" onclick="openFileBrows()">Upload Image</div>
      </div>
    </div>

    <div class="image-container">
      <div class="row">
        <div class="col-2">
          <div class="card rounded border border-info">
            <h2>Original Image</h2>
            <img id="image-preview" src="#" alt="" class="card-img-top">
          </div>
          <div class="text-center mt-3">
            <button id="crop-button" class="btn btn-primary">Crop</button>
          </div>
        </div>
        
        <div class="col-2">
          <div class="card rounded border border-info">
            <h2>Cropped Image</h2>
            <img src="" id="image_preview" alt="">
          </div>
        </div>
        <div class="col-4">
          <div class="card rounded border border-info">
            <div class="card-header">
              <h2> Text detected for plate : <span class="badge bg-info" id="text"></span></h2>
          </div>
        </div>
      </div>
        <div class="col-4">
          <div class="card rounded border border-info">
            <div class="card-header">
              <h2>Confiance/Trust  : <span class="badge bg-info" id="confidence"></span></h2>
          </div>
        </div>
      </div>
      <div id="loading" style="display: none;">
        <img src="{{ url_for('static', filename='images/loading.gif') }}" alt="Loading">
      </div>
      <div class="row mt-3">
        <div class="col-3">
          <div class="card rounded border border-info">
            <h2 id="gray-heading" style="display: none;">Gray Image</h2>
            <img class="card-img-top" id="gray-image" alt="" style="display: none;">
          </div>
        </div>
    
        <div class="col-3">
          <div class="card rounded border border-info">
            <h2 id="edged-heading" style="display: none;">Edged Image</h2>
            <img id="edged-image" alt="" style="display: none;">
          </div>
        </div>
    
        <div class="col-3">
          <div class="card rounded border border-info">
            <h2 id="new-heading" style="display: none;">Only Plaque </h2>
            <img id="new-image" alt="" style="display: none;">
          </div>
        </div>
    
        <div class="col-3">
          <div class="card rounded border border-info">
            <h2 id="res-heading" style="display: none;">Result Image</h2>
            <img id="res-image" alt="" style="display: none;">
          </div>
        </div>
      </div>

    </div>

    
    

  <script>
    const openFileBrows = () => {
      $(".file-input").click();
    }
  </script>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="{{ url_for('static', filename='./node_modules/cropperjs/dist/cropper.min.js') }}"></script>
  <script src="{{ url_for('static', filename='index.js') }}"></script>


</body>

</html>
